(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["letters"],{"365c":function(t,e,a){"use strict";a("d3b7");var n=a("bc3a"),r=a.n(n);r.a.defaults.withCredentials=!0;var o=r.a.create({baseURL:"",timeout:8e3});o.interceptors.request.use((function(t){return console.log("config: ",t),t}),(function(t){return console.log(t),Promise.reject()})),o.interceptors.response.use((function(t){if(200===t.status)return t.data;Promise.reject()}),(function(t){return console.log(t),Promise.reject()}));var i=o;a.d(e,"e",(function(){return l})),a.d(e,"f",(function(){return c})),a.d(e,"c",(function(){return s})),a.d(e,"b",(function(){return u})),a.d(e,"a",(function(){return d})),a.d(e,"d",(function(){return p}));var l=function(t){return i({url:"/send",method:"post",data:t})},c=function(t){return i({url:"/extract",method:"post",data:t})},s=function(t){return i({url:"/getPublicLetter",method:"get",params:t})},u=function(t){return i({url:"/getAllLetter",method:"get",params:t})},d=function(t){return i({url:"/byExtractGetEmail",method:"post",data:t})},p=function(t){return i({url:"/getQuestion",method:"get",params:t})}},"856f":function(t,e,a){"use strict";a.r(e);var n,r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"letters-box"},[a("el-table",{staticClass:"table-box",attrs:{data:t.pageControl.list}},[a("el-table-column",{staticStyle:{width:"100%"},attrs:{align:"center",prop:"name",label:"昵称",width:"120"}}),a("el-table-column",{attrs:{align:"center",prop:"receiptEmail",label:"email地址",width:"220"}}),a("el-table-column",{attrs:{align:"center",prop:"createTime",label:"创建时间",width:"220"}}),a("el-table-column",{attrs:{align:"center",prop:"sendTime",label:"收信时间",width:"220"}}),a("el-table-column",{attrs:{align:"center",prop:"statusText",label:"当前状态  "}})],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.pageControl.total},on:{"current-change":t.pageChange}})],1)],1)},o=[],i=(a("b0c0"),a("5319"),a("159b"),a("2fa7")),l=(a("672e"),a("450d"),a("101e")),c=a.n(l),s=(a("5466"),a("ecdf")),u=a.n(s),d=(a("38a0"),a("ad41")),p=a.n(d),g=a("365c"),m=a("5a0c"),f=a.n(m),b={components:(n={},Object(i["a"])(n,p.a.name,p.a),Object(i["a"])(n,u.a.name,u.a),Object(i["a"])(n,c.a.name,c.a),n),data:function(){return{pageControl:{page:1,pageSize:10,list:[],total:0},statusTexts:["尚未寄送","已寄送"]}},beforeMount:function(){},mounted:function(){this.loadData()},methods:{loadData:function(){var t=this,e={page:this.pageControl.page,pageSize:this.pageControl.pageSize},a=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});Object(g["b"])(e).then((function(e){a.close(),e.statusCode?(t.pageControl.list=e.data,t.setField(),t.pageControl.total=e.totalCount):t.$message.error(e.message)})).catch((function(e){a.close(),t.$message.error(e||"获取邮件列表失败, 请稍后重试!")}))},pageChange:function(t){console.log(t),this.pageControl.page=t,this.loadData()},setField:function(){var t=this,e=this.pageControl.list;try{e.forEach((function(e){e.receiptEmail=e.receiptEmail.replace(/(\d{3})(\d+)(\d{0})/,(function(t,e,a,n){var r="";while(r.length<a.length)r+="*";return e+r+n})),e.createTime=f()(e.createTime).format("YYYY-MM-DD HH:mm"),e.sendTime=f()(e.sendTime).format("YYYY-MM-DD HH:mm"),e.statusText=t.statusTexts[e.status-1]}))}catch(a){console.log(a)}}}},h=b,C=(a("cc65"),a("2877")),v=Object(C["a"])(h,r,o,!1,null,"7a341999",null);e["default"]=v.exports},cc65:function(t,e,a){"use strict";var n=a("e5dc"),r=a.n(n);r.a},e5dc:function(t,e,a){}}]);